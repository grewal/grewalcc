# templates/consul.hcl.j2
# Deployed by Ansible

data_dir = "/consul/data" # Path inside the container

# Non-dev server mode
server = true
bootstrap_expect = 1

# Host networking configuration - use the internal IP variable
bind_addr = "{{ consul_host_ip }}"
advertise_addr = "{{ consul_host_ip }}" # Explicitly set for host networking
client_addr = "{{ consul_host_ip }}" # Listen on specific internal IP for API/DNS

# Enable UI
ui_config {
  enabled = true
}

# Enable DNS Interface on standard port 8600 (UDP/TCP)
ports {
  dns = 8600
}

# Note: HTTP API defaults to 8500

log_level = "INFO"
enable_syslog = true # Good practice for container logs
